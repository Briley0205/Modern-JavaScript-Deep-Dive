## 📕 오늘 공부한 내용, 이렇게 정리해 봅시다. ✒

**TIL(Today I learn) 기록일** : 2022.07.24

**오늘 읽은 범위** : 12장 함수

### 함수 📑

- 함수는 자바스크립트의 시작과 끝이다.
- 함수는 1급 객체이다. 객체 리터럴처럼 함수 리터럴도 있다.
- 수학의 함수는 프로그래밍 언어의 함수와 같은 개념이다.
- 함수는 입력을 받아 출력을 내보내는 기계다.

---

### 단어 정리

- 매개변수 = 파라미터(Parameter)
- 함수 내부로 입력을 전달받는 변수, 아래와 같은 형태로 ()괄호안에 식별자를 넣어 구성함.

```js
function add(x, y) {
  return x + y;
}
```

- 인수 = 인자 = 입력(Argument)
- 실제로 들어가는 입력값, 실제 명령단에서 add(1, 4)와 같은 형태로 쓰임

- 출력 = 반환값 = 리턴값(Return value)
- 실제로 나오는 값, 리턴을 어디에 어떻게 쓰느냐에 따라 값이 달라짐

- 함수의 형태

1. 함수선언문 형태 : function() {}
2. 함수표현식 = 함수리터럴 : const a = function() {}
3. 생성자 함수 : const a = new function() {}
4. 화살표 함수 : const a = () => {}

- 함수의 형태에 따른 차이
- var let const는 변수를 선언(declaration)하는 애들이고 함수(function)는 정의(definition)되는 애들이다.

- 그래서 두개를 합치면 중의적인 문법이 되어서 엔진에서 문맥에 따라 알아서 해석해준다.

- 함수 정의 : 함수를 호출하기 전에 매개변수, 문, 반환값 등을 지정하는 것. 정의된 함수는 자바스크립트 엔진에 의해 평가되어 함수 객체가 된다.

- 함수표현식은 변수 호이스팅이 되고, 함수선언문은 함수호이스팅이 된다. 왜냐면 표현식은 var let const로 선언했기 때문!

- 함수호이스팅을 하면 자바스크립트 엔진이 암묵적으로 함수 이름과 동일한 이름의 식별자를 생성해서 할당해준다.

---

### 인수 🕯

- 함수는 매개변수의 개수와 인수의 개수가 일치하는지 체크하지 않는다. 인수가 부족해서 할당되지 않으면 그냥 undefined로 한다.

- 매개변수보다 인수가 더 많은 경우 초과된 인수는 무시되지만 arguments 프로퍼티 안에 잘 보관되어 있다.

```js
function add(x, y) {
  console.log(arguments);
  return x + y;
}
```

이렇게 구경할 수 있다.

- 인수에 아무거나 넣어도 결과에서 오류를 일으킬 뿐 함수는 인수를 평가하지 않는다.
- 자바스크립트는 동적 타입 언어라서 매개변수의 타입을 사전에 지정할 수 없기 때문이다.

- 이러한 상황을 보완하기 위해 타입을 평가하는 = 정적 타입을 선언할 수 있는 타입스크립트가 도입되었다!
- 단축 평가나 매개변수 기본값을 사용하면 if문 갯수를 좀 줄일 수 있다.
- 인수를 객체로 만들면 좋다.
- 객체로 만드는 경우 프로퍼티 키만 정확히 지정하면 순서를 신경쓰지 않아도 되고 가독성도 좋아신다.

---

### 리턴 = 반환문 🔖

- 함수는 리턴 키워드와 표현식을 사용해 실행 결과를 함수 외부로 반환할 수 있다.
- 리턴을 사용하면 그 이후의 문은 실행되지 않고 무시된다.
- 리턴을 사용하고 그 뒤에 반환값으로 사용할 표현식을 명시적으로 지정하지 않으면 undefined가 반환된다.

- 리턴을 생략하면 함수는 함수 안의 마지막 문까지 실행한 후 암묵적으로 undefined를 반환한다.
- 문의 종료를 나타내는 세미콜론을 붙여도 undefined를 반환한다.
- 리턴은 함수 내부에서만 사용될 수 있다. 함수 밖에서 그냥 사용하면 문법 에러를 일으킨다.
- Node.js는 모듈 시스템에 의해 각 파일별로 독립적인 파일 스코프를 가지기 때문에 밖에서 사용해도 괜찮다.

### 값에 의한 전달, 참조에 의한 전달

- 원시값으로 하면 값에 의한 전달 = 원본과 연결 x
- 객체로 하면 참조에 의한 전달 = 원본과 연결 o

### 함수의 종류

- 즉시실행함수 : 익명함수 같은거, 정의와 동시에 호출되어 한번만 쓰이고 사라진다. 다시 호출할 수 없다. ()로 감싼다.

```js
var res = (function () {
  var a = 4;
  var b = 1;
  return a * b;
})();
```

- 재귀 함수 : 자기자신을 호출해서 반복되는 처리를 하는 함수. 함수 식별자와 이름이 따로 있는 함수표현식에서는 둘다 사용할 수 있다. 이름은 함수 몸체 내부에서만 사용 가능한데 재귀 함수는 함수를 함수 내에서 불러오는 것이기 때문.

- 재귀함수는 자신을 무한 재귀 호출한다. 따라서 재귀함수 내에는 탈출조건을 반드시 만들어주어야 한다.

- 재귀함수와 반복문을 각 상황에 맞게 잘 쓰기. 코드의 가독성을 고려하면 좋다.

- 중첩 함수 : 함수 내부에 정의된 함수. 클로저.

- 콜백 함수 : 함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수를 콜백 함수라고 하며, 이를 통해 함수를 전달받은 함수를 고차 함수라고 한다.

- 콜백 함수는 함수형 프로그래밍 패러다임 뿐만 아니라 비동기처리에 활용되는 중요한 패턴이니 잘 이해하고 사용해야 한다.

- 순수함수와 비순수 함수 : 함수형 프로그래밍의 개념
- 순수 함수 : 동일 인수에 대해 언제나 동일 값을 반환하는 함수. 어떤 외부 상태에도 의존하지 않으며 항상 같은 값.
- 순수함수는 함수의 외부 상태를 변경하지 않는다.

- 비순수 함수 : 외부 상태에 의존적으로 값이 변화할 수 있는 함수. 이때 외부 상태란 (전역 변수, 서버 데이터, 파일, Console, Dom) 등이 있다.
- 비순수 함수는 : 함수의 외부 상태를 변경할 수 있다.

- 순수 함수가 시간을 인자로 받아서 매번 다른 값을 반환한다면 걔는 순수함수라고 할 수 없다.

### 함수형 프로그래밍의 지향점

- 함수형 프로그래밍은 순수 함수와 보조함수의 조합을 통해 외부 상태 변경을 최소화하여 불변성을 지향하는 프로그래밍 패러다임이다.
- 조건문, 반복문을 최대한 덜쓰려고 노력하는 프로그래밍.
- 전역 변수 사용과 생명주기에의 간섭도 최소화.

- 리액트에서도 불변성을 지키기 위해 최대한 순수함수를 쓰는 것이 좋다.
- 사이드이펙트가 일어나면 상태변화를 추적하기 어려워진다.
