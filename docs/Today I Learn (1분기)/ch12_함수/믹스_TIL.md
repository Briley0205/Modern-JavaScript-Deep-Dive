## 📕 『모던 자바스크립트 Deep Dive』 오늘 읽은 내용 ✒

**TIL(Today I learn) 기록일** : 2022.07.22-24

### 12장 함수 📑
---
일련의 과정을 문으로 구현하고 코드 블록으로 감싸서 하나의 실행 단위로 정의한 것
```js
    function 함수이름(매개변수x,매개변수y){
        return `${매개변수x+매개변수y} = 반환값`;
    } //함수정의
    함수이름(인수1,인수2); //함수호출
```
함수는 필요할 때 여러번 호출할 수 있다. 즉 몇 번이든 재사용이 가능하다.
재사용성이 높다는건 유지보수의 편의성을 높이고 실수를 줄여 코드의 신뢰성을 높인다.

---

### 함수 리터럴
함수는 객체타입의 값으로 함수 리터럴로 생성이 가능하다.
함수는 객체지만 호출이 가능하며, 함수 객체만의 고유한 프로퍼티를 가진다.

---

### 함수 정의
#### 함수 선언문
```js
    function add(x,y){
        return x+y;
    }
```
- 함수 선언문은 함수 리터럴과 형태가 동일하다. 
- 단 선언문은 함수 이름을 생략할 수 없다.
- 함수 선언문은 표현식이 아닌 문이다. 즉 변수에 할당할 수 없다.

#### 함수 표현식
함수는 일급 객체이므로 함수 리터럴로 생성한 함수 객체를 변수에 할당할 수 있다. 이러한 정의 방식을 함수 표현식이라 한다.
```js
    var add = function (x,y){
        return x+y;
    }
```
- 함수 이름은 생략하는 것이 일반적이다. 이를 익명함수라 한다.
- 함수를 호출할 때는 함수 이름이 아닌 함수 객채를 나타내는 식별자를 사용해야한다. 함수 이름은 몸체 내부에서만 유효함으로 외부에서 호출할 수 없다.
- 함수 표현식은 표현식인 문이다.

#### 함수 생성과 호이스팅
함수 선언문은 선언문 이전에 호출할 수 있다. 런타임 이전에 함수 객체가 먼저 생성되기 때문이다. 이를 <strong>함수 호이스팅</strong>이라 하는데, 변수 호이스팅과 달리 암묵적으로 생성된 식별자는 함수 객체로 초기화된다. 따라서, 함수 선언문으로 정의한 함수를 함수 선언문 이전에 호출해도 호출이 가능하다.

함수 표현식은, 변수에 할당되는 값이 함수 리터럴이므로 런타임 이전에 <strong>변수 호이스팅</strong>이 일어나 undefined으로 초기화된다. 변수 할당문의 값은 할당문이 실행되는 그 시점에 평가되므로 함수 표현문 이전에 함수를 호출하면 값을 얻을 수 없다.

#### 화살표 함수
ES6에서 도입된 함수로 다음과 같이 표현한다
```js
        const add = (x,y) => x+y;
```
- 화살표 함수는 항상 익명함수로 정의한다.
- 기존의 함수보다 내부 동작이 간략화된 표현이다.
- 생성자 함수로 사용할 수 없다.

---

### 함수 호출
#### 매개변수와 인수
- 필요한 값을 외부에서 내부로 전달할 때, 매개변수를 통해 인수를 전달한다.
- 인수는 값으로 평가될 수 있는 표현식이어야 한다.
- 인수는 함수를 호출할 때 지정하며, 개수와 타입에 제한이 없다.
- 매개변수는 함수 몸체 내부에서만 참조할 수 있고, 몸체 외부에선 참조할 수 없다.
- 함수는 매개변수와 인수의 갯수가 일치하는지 체크하지 않는다.
- 인수가 부족해서 인수가 할당되지 않은 매개변수의 값은 undefined이다.
- 매개변수보다 인수가 많은 경우 무시된다.
- 매개변수의 최대 개수는 정해져있지 않지만 이상적인 개수는 0개이며 적을수록 좋다. 최대 3개 이상을 넘지 않는 것을 권장한다.

#### 반환문
- 함수는 return 키워드와 표현식으로 이뤄진 반환문을 사용해 실행 결과를 함수 외부로 반환할 수 있다.
- 반환문은 함수의 실행을 중단하고 함수 몬체를 빠져나간다.
- return 키위드 뒤에 오는 표현식을 평가해 반환한다.
- 반환문은 생략이 가능하며 이때는 함수 몸체의 마지막 문까지 실행한다.
- return 키워드와 반환값으로 사용할 표현식 사이에 줄바꿈이 있으면 안된다.(세미콜론 자동삽입때문)

---

### 참조에 의한 전달과 외부 상태의 변경
매개변수도 값에 의한 전달, 참조에 의한 전달 방식을 그대로 따른다.
<br><strong> 원시 타입 인수</strong>는 값 자체가 복사되어 매개변수에 전달되기 때문에 함수 외부에서 홈수 몸체 내부로 전달한 원시 값의 원본을 변경하는 <strong>어떠한 부수 효과도 발생하지 않는다.</strong>
<br>하지만 <strong>객체 타입 인수</strong>는 참조 값이 복사되어 매개변수에 전달되기 때문에 함수 외부에서 함수 몸체 내부로 전달한 참조값에 의해 <strong>원본 객체가 변경되는 부수 효과가 발생</strong>한다.

!외부 상태를 변경하지 않고 외부 상태에 의존하지도 않는 함수를 순수 함수라 한다. 순수 함수를 통해 부수 효과를 최대한 억제하여 오류를 피하고 프로그램의 안전성을 높이려는 프로그래밍 패러다임을 함수형 프로그래밍이라 한다!

---

### 다양한 함수의 형태
#### 즉시 실행 함수
함수 정의와 동시에 즉시 호출되며 단 한번만 호출, 다시 호출할 수 없다. 보통 익명 함수를 사용하며 그룹 연산자 내에 작성한다.

#### 재귀 함수
자기 자신을 호출하는 함수로 반복되는 처리를 위해 사용한다. 반드시 멈출 수 있는 탈출 조건을 만들어야한다.

#### 중첩함수
함수 내부에 정의된 함수를 중첨 함수 또는 내부 함수라 한다. 중첩 함수는 외부 함수 내부에서만 호출할 수 있다.

#### 콜백 함수
함수의 매개변수를 통해 다른 함수의 내부로 전달되는 함수를 콜백 함수라 하며 매개변수를 통해 함수의 외부에서 콜백 함수를 전달받은 함수를 고차함수라고 한다.
<br>콜백 함수는 고차 함수에 의해 호출되며 고차 함수는 필요에 따라 콜백 함수에 인수를 전달할 수 있다.<br>

#### 순수 함수와 비순수 함수
- 순수 함수
    - 어떤 외부 상태에 의존하지도 않고 변경하지도 않는, 부수 효과가 없는 함수
    - 동일한 인수가 전달되면 언제나 동일한 값을 반환한다.
    - 인수의 불변성을 유지한다.
- 비순수 함수
    - 외부 상태에 의존하거나 외부 상태를 변경하는, 부수 효과가 있는 함수
    - 함수 내부에서 외부 상태를 직접 참조하지 않더라도 매개변수를 통해 객체를 전달받으면 비순수 함수가 된다.

함수형 프로그래밍은 순수 함수와 보조 함수의 조합을 통해 외부 상태를 변경하는 부수 효과를 최소화해서 불변성을 지향하는 프로그래밍 패러다임이다. 


---