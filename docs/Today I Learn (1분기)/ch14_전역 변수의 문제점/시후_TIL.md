## 📕 오늘 공부한 내용, 이렇게 정리해 봅시다. ✒

**TIL(Today I learn) 기록일** : 2022.07.27

**오늘 읽은 범위** : 14장 전역 변수의 문제점

### 우매한 코드의 표본, 전역 변수의 남발 📑

- 전역 변수의 생명 주기는 애플리케이션의 생명 주기와 같다.
- 스코프의 참조가 중단될 때까지 변수는 살아남는다.
- 유지 보수가 비효율적이고 메모리를 차지하는 기간이 길기 때문에 전역 변수 사용은 지양하는 편이 좋다.
- 전역 변수를 꼭 써야 하는 이유가 없다면, 지역 변수를 사용하자.

---

|  | 전역 변수 | 지역 변수 |
|----|----|----|
| 생존 기한 | 앱이 끝날 때까지 | 함수가 생성한 스코프의 참조 종료 |
| 초기화 시기 | 평가 단계 | 런타임 함수 실행 직전 단계 |
| 호이스팅 위치 | 소스 코드의 선두 | 함수의 선두 |

> 문제점
```js
1. 모든 코드가 전역 변수를 참조하고 변경할 수 있는 암묵적 결합을 허용한다.
2. 전역 변수는 생존 기한이 매우 길기 때문에 메모리 리소스를 많이 차지한다.
3. 스코프 체인의 끝에 존재하기에, JS엔진이 가장 마지막에 들여다본다.
4. 하나의 전역 스코프를 공유하기 때문에 네임스페이스가 더러워진다.
```

### 떠오르는 생각이 있었니요? 나의 사색을 기록해 봅시다 💭
```js
전역 변수보다 지역 변수의 속도가 더 빠른 이유 ?

전역 변수는 같은 파일 내에 존재하는 소스 코드 어디서든 참조할 수 있다.
스코프를 그리 신경쓰지 않아도 코드가 굴러가게끔 '구현'은 할 수 있다.
하지만, 검색되는 순서는 언제나 가장 뒷전이다.
유지 보수성이 좋지 않고, 스코프 내의 네임스페이스 또한 너덜너덜해진다.
때문에 전역 변수를 남발하는 건 그리 좋은 코드가 아니다.

(function remindingMyCode(전역변수, 스코프) {
    자바스크립트를 공부한 지 한 달도 채 안 됐을 때 나는,
    움직이는 것에만 신경쓰느라, 네임스페이스나, 스코프는 안중에도 없었다.
    (식별자의 영향 범위, 생성과 소멸 주기를 고려하며 작성한 지는 얼마 되지 않았다.)
    당시 쓴 코드를 다시 읽어보면, 전역 변수가 대부분이라, 굉장히 읽기 힘들다.
    마치 1년 전 본인이 찍힌 동영상을 돌려보는 느낌이랄까...
}());

각설하고, 검색 속도가 가장 느린 이유는 JS엔진이 스코프 체인을
하위 스코프(지역 스코프)에서 상위 스코프(전역 스코프)로 쭉 올려다보며 검색하기 때문이다. 
"언제나 가장 늦게 참조한다"는 말은 아마 이런 뜻일 것이다.
```
