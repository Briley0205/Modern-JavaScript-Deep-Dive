# 📕 오늘 공부한 내용, 이렇게 정리해 봅시다.

**TIL(Today I learn) 기록일** : <br>
2022.07.29

**오늘 읽은 범위** : <br>
15장 - let, const 키워드와 블록 레벨 스코프

<br>

## ✨**15장 - let, const 키워드와 블록 레벨 스코프**✨

### ➡️**var 키워드 선언한 변수의 문제점**

🔹변수 중복 선언 허용🔹 <br>
동일한 이름의 변수가 이미 선언된 상황에서 변수를 중복 선언한데다가 재할당까지 할 경우 의도치 않게 먼저 선언된 변수 값이 변경되는 실수를 범할 수 있다.

```js
var a = 10;
var a = 100;
console.log(a); // 100
```

<br>

🔹함수 레벨 스코프🔹 <br>
var 키워드로 선언한 변수는 함수의 코드 블록만을 지역 스코프로 인식한다. 즉, 함수 외부에서 var 키워드로 선언한 변수는 코드 블록 안에서 선언해도 전역 변수가 된다.

```js
var userName = "john";
if (true) {
  var userName = "marry";
}
console.log(userName); // marry
```

함수 레벨 스코프는 전역 변수를 남발할 위험도를 높인다. 의도치 않게 전역 변수가 중복 선언되는 경우가 발생할 수 있하게 만든다.

<br>

🔹변수 호이스팅🔹 <br>
var 키워드로 변수 선언시 변수 호이스팅에 의해 변수 선언문이 스코프로 최상단에 끌어 올려진 것처럼 동작하게 된다. 이는 프로그램의 흐름상에도 맞지 않을 뿐더러 가독성도 해치고 오류 발생률을 높인다.

<br>

### ➡️**let 키워드**

🔹변수 중복 선언 할 수 없음🔹 <br>
var 키워드와 달리 같은 이름의 변수를 중복 선언시 문법 에러가 발생한다. 이러한 특성은 중복 선언으로 인한 에러와 에러의 가능성을 방지한다.

🔹블록 레벨 스코프🔹 <br>
모든 코드 블록을 지역 스코프로 인정한다.

```js
let a = 1;

{
  let a = 3;
  let b = 5;
}

console.log(a); // 1
console.log(b); //참조 에러 : b is not defined
```

블록 내부에 선언된 `a`와 `b`는 블록 레벨 스코프를 갖고 있는 지역 변수다. 때문에 `a`를 console에서 확인시 `전역 변수 a`의 값을 참조하는 반면, `b`는 참조 할 수 없는 위치에 있다. `b`는 지역 스코프 내에서만 참조할 수 있기 때문이다.

<br>

🔹변수 호이스팅🔹 <br>
var 키워드와 달리 let 키워드는 변수 호이스팅이 발생하지 않는 것처럼 작동한다.

```js
console.log(a); // 참조 에러
let a = 10;
```

var 키워드로 선언한 변수는 런타임 이전 선언과 초기화가 이루어지지만, let 키워드로 선언한 변수는 **런타임 이전에 선언 단계가 먼저 발생하지만 초기화 단계는 변수 선언문에 도달했을 때 진행된다.**

```js
//런타임 이전 선언 단계 실행됐으며 초기화가 되지 않은 상태다. 초기화 이전 단계를 '일시적 사각지대 TDZ'라 하며 이때 변수는 참조할 수 없다.
console.log(a);

//변수 선언문에서 초기화를 한다. 이때 값은 undefined이다
let a;
console.log(a);

//할당 단계에서 할당이 실행된다. 즉 5이다.
a = 5;
console.log(a);
```

<br>

### ➡️**const 키워드**

🔹반드시 선언과 동시에 초기화해야 함🔹 <br>
`const a = 10;`

🔹재할당 금지🔹 <br>
var과 let과 달리 const 키워드로 선언한 변수는 재할당이 금지 된다.

🔹상수🔹 <br>
상수란 재할당이 금지된 변수를 말한다. 상수는 **상태 유지, 가독성, 유지보수의 편의**를 위해 적극적으로 사용하는 게 좋다.

```javascript
const TAX_RATE = 0.1;
//일반적으로 상수명은 대문자로 짓는다. 여러 단어로 이뤄져 있다면 언더스코어로 구분해서 쓴다.

let preTaxPrice = 100;

let afterTaxPrice = preTaxPrice + preTaxPrice * TAX_RATE;
```

외부로 노출하고 싶지 않은 변수 및 함수는 반환하는 객체에 추가하지 않으면 외부에서 접근이 안 되는 프라이빗 멤버가 된다.

<br>

➕const 키워드 선언 변수에 객체 할당할 경우 값을 변경할 수 있다! 재할당이 금지되었을 뿐 불변을 의미하는 건 아니다.

<br>

## 📝 오늘의 책갈피

p. 218

> ES6을 사용한다면 var 키워드는 사용하지 않는다.

> 재할당이 필요한 경우에만 한정해 let 키워드를 사용한다. 변수 스코프는 최대한 좁게!

> 읽기 전용으로 사용하는(변경 발생하지 않는) 원시 값 및 객체에는 const 키워드를 사용해서 선언한다.

> 변수 선언시 일단 const 키워드를 사용하자. 반드시 재할당이 필요하다면 그때 let 키워드로 변경해도 결코 늦지 않다.

---

<br>

### 단어장 (모르는 용어가 있었다면, 간단히 정리해 봅시다) 🔖

```
➖

```

<br>

### 떠오르는 생각이 있었니요? 나의 사색을 기록해 봅시다 💭

```
웬만해서는 const로 선언하자. 실습문제를 풀더라도 const를 사용해 익숙해지는 편이 좋겠다. ES6라면 var 사용은 지양하라고 하던데 요즘도 var을 사용하는 곳이 있을까?
```

### 궁금한 내용이나, 더 알아보고 싶은 내용을 적어봅시다 🤔

```
let을 사용해야하는 경우 (재할당이 필요한 경우)에 대해서 더 알아봐야겠다. 개념적으로는 재할당이 필요하면 그때 쓰면 되겠다 싶지만 막상 어떤 케이스에 let을 써야할지 감이 딱 오지는 않는다...
```
