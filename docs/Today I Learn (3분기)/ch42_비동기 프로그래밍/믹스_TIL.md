## 📕 『모던 자바스크립트 Deep Dive』 오늘 읽은 내용 ✒

**TIL(Today I learn) 기록일** : 2022.09.15

### 42장 비동기 프로그래밍 📑

---
### 동기 처리와 비동기 처리
자바스크립트 엔진은 단 하나의 실행 컨텍스트 스택을 가지고, 이는 2개 이상의 함수를 동시에 실행할 수 없다는 것을 의미한다.
이렇게 한 번에 하나의 태스크만 실행할 수 있는 __싱글 스레드__ 방식으로 동작할 경우 블로킹이 발생한다.
이처럼 현제 실행 중인 태스크가 종료할 때까지 다음에 실행될 태스크가 대기하는 방식을 __동기 처리__ 라고 한다.
이는 순서대로 처리되므로 실행 순서가 보장된다는 장점이 있으나 앞의 태스크가 종료할 때까지 이후의 것들이 블로킹되는 것이 단점이다.

반대로 이후의 태스크를 블로킹하지 않고 곧바로 실행하는 방식을 __비동기 처리__ 라고 한다. 즉 동기 처리와 장단점이 반대이다.
비동기 함수는 전통적으로 콜백 패턴을 사용한다.
비동기 처리 방식으로 동작하는 것에는 setTimeout, setInterval, HTTP 요청, 이벤트 핸들러가 있다.

---
### 이벤트 루프와 태스크 큐
이벤트 루프는 자바스크립트의 동시성을 지원한다. 이는 브라우저에 내장된 기능이다.
- 태스크 큐<br>
비동기 함수의 콜백 함수 또는 이벤트 핸들러가 일시적으로 보관되는 영역.
- 이벤트 루프<br>
스택에 현재 실행 중인 실행 컨텍스트가 있는지, 태스크 큐에 대기 중인 함수가 있는지 반복해서 확인. __만약 콜 스택이 비어있고, 태스크 큐에 대기중인 함수가 있다면 순차적으로 대기 중인 함수를 콜스택으로 이동시킨다.__ 이때 이동한 함수는 실행되고, 태스크 큥 ㅔ일시 보관된 함수들은 비동기 처리 방식으로 동작한다.

🤖 싱글 스레드 방식으로 동작하는 것은 브라우저가 아니라 자바스크립트 엔진이다. 즉 브라우저는 멀티 스레드로 동작하며 그렇기 때문에 비동기로 동작할 수 있는 자바스크립트 코드가 존재하는 것이다.

---

