　## 📕 오늘 공부한 내용, 이렇게 정리해 봅시다. ✒

**TIL(Today I learn) 기록일** : 2022.09.18

**오늘 읽은 범위** : 45장 프로미스

### 프로미스 ?

+ JS는 비동기처리를 위해 콜백함수를 쓰는데, 프로미스가 나오기 전에는 콜백 헬로 인해 가독성이 나쁘고 에러처리가 힘들었다.
+ ES6에서 도입된 호스트 객체가 아닌 표준 빌트인 객체다.

### 후속처리 메서드

+ then : 두개의 콜백 함수를 인수로 전달받음
+ 첫번째 함수는 프로미스가 resolve함수가 호출된 상태가 되면 호출된다. 이때 콜백 함수는 프로미스의 비동기 처리 '결과'를 인수로 전달받는다.
+ 두번째 함수는 프로미스가 reject함수가 호출된 상태가 되면 호출된다. 이때 콜백 함수는 프로미스에 '에러'를 인수로 전달받는다.
+ catch : 한개의 콜백 함수를 인수로 전달받는데, 프로미스가 rejected상태인 경우만 호출된다.
+ catch매서드는 then과 동일하게 동작함. 그래서 then메서드와 마찬가지로 언제나 프로미스를 반환함!
+ finally : 프로미스의 성공 또는 실패와 상관없이 무조건 한 번 호출된다.
+ 프로미스와 상태와 상관없이 공통적으로 수행해야 할 처리 내용이 있을 때 유용! 
+ finally도 then/catch메서드와 마찬가지로 언제나 프로미스를 반환한다.

### 프로미스 에러 처리
+ 비동기 처리에서 발생한 에러는 then메서드의 두번째 콜백 함수로 처리할 수 있음.

### 마이크로태스크 큐
+ 마이크로태스크 큐는 태스크 큐와 별도의 큐이다.
+ 프로미스의 후속 처리 메서드의 콜백 함수가 일시 저장됨. 그외의 비동기 함수의 콜백 함수나 이벤트 핸들러는 태스크 큐에 의해 일시 저장됨
+ 콜백함수나 이벤트 핸들러를 일시 저장한다는 점에서는 태스크 큐와 동일하지만, '마이크로태스크 큐는 태스크 큐 보다 "우선순위가 높음"'
+ 즉, 이벤트 루프는 콜 스택이 비면 먼저 마이크로태스크 큐에서 대기하고 있는 함수를 가져와 실행함.

### fetch
+ HTTP요청 전송 기능을 제공하는 클라이언트 사이드Web API
+ 프로미스를 지원하기때문에, 비동기 처리를 위한 콜백 패턴의 단점에서 자유로움
+ 후속처리메서드 then을 통해 프로미스가 resolve한 Response객체를 전달받을 수 있다.

---


### 떠오르는 생각이 있었나요? 나의 사색을 기록해 봅시다 💭
```
노드JS하면서 많이 사용했던 프로미스를 보니 새롭네요..
그땐 모르고 책만 보면서 했던것 같은데.. 이론적으로 조금 더 잘 알게 된것 같습니다.!
```
