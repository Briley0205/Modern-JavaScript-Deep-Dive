## 📕 오늘 공부한 내용, 이렇게 정리해 봅시다. ✒

**TIL(Today I learn) 기록일** : 2022.08.25

**오늘 읽은 범위** : 26장 es6 함수의 추가기능

### 함수의 구분 📑

- es6 이전까지 자바스크립트의 함수는 별다른 구분 없이 다양한 목적으로 사용되어 왔다.
- new를 붙이면 constructor이고 그냥 부르면 callable이고

- 이렇게 호출방식에 제약이 없는 자유로운 구조는 물론 쓰기 편하지만 혼란스럽고 알아보기 어렵고 실수를 만들어낼 위험성이 컸다.

- 그래서 es6에서는 함수를 사용목적에 따라 3가지로 구분하기로 했다.

### 3가지

- 일반함수 : 함수선언문, 함수표현식 등으로 소환. 일반적인 함수
- 메서드 : 메서드 축약표현으로 정의횐 함수만을 의미
- 화살표함수 : 화살표를 사용하여 기존의 함수보다 간략한 형태로 함수를 정의하는 것. 내부동작도 일반 함수에 비해 간략하다.

### 메서드

- 일반함수는 그냥 일반함수고 메서드와 화살표 함수만 다르다.
- es6 사양에서 정의한 메서드는 인스턴스를 행성할 수 없는 non-constructor다. 즉 얘들은 생성자 함수로 호출할 수 없다.
- es6 메서드가 아닌 함수는 super 키워드를 하숑할 수 없다. 내부슬롯[[homeobject]]를 갖지 않기 때문이다.

- 이러한 방식은 익명 함수표현식을 할당하면 못쓰므로 메서드를 만들땐 이름을 꼭 지어주자.

### 화살표함수

- 화살표 함수는 간략<--- 이 키워드에 집중하면 좋다.
- 화살표함수의 특징

1. 함수 정의 : 화살표 함수는 함수선언문으로 정의 할 수 없고 함수 표현식을 써야 한다.
2. 매개변수 선언 : 화살표 중간에 있는 = () => 소괄호 안에 정의해준다.
   2-1. 매개변수가 1개일 경우 소괄호를 생략할 수 있다.
   2-2. 그치만 매개변수가 0개일 경우 소괄호를 생략할 수 없다.

3. 함수 몸체 정의 : {}중괄호를 생략할 수 있다. 하지만 몸체 안에 든게

- 표현식이 아닌 문이라면 문법오류가 뜬다. 리턴이 없기 때문이다.
- 객체 리터럴일 경우 중괄호대신 ()소괄호로 감싸도 좋지만 안감싸면 문법오류다.
- 1개 이상 = 여러개의 문으로 구성될 경우 중괄호를 생략할 수 없다.

4. 쓰임새

- 즉시실행함수로 쓸 수 있다.
- 고차함수의 인자도 될 수 있다.

5. 화살표함수와 일반함수의 차이점

- 화살표함수는 non-constructor이다. 인스턴스를 생성할순 없다.
- 화살표함수는 그래서 프로토타입도 없다.
- 중복된 매개변수 이름을 사용할 수 없다.
- 화살표 함수는 함수 자체의 this, arguments, super, new, target을 갖지 않는다. 상위 스코프의 것을 참조한다.

6. this의 차이

- 가장 큰 차이점은 this이다. 면접에 자주 나오는 질문이다.
- 화살표함수는 다른 함수의 인자로 전달되어 콜백함수로 사용되는 경우가 많은데, 이때 this가 일반함수의 this와 다르게 작동하므로 뜻하지 않은 문제가 발생할 수 있다. 잘 알아두자.

- 일반함수의 this는 동적으로 결정되지만 화살표함수의 this는 정적으로 결정된다. 콜백함수의 경우 this가 설정되어 있지 않으면 에러를 뿜는 경우가 많은데 이때 화살표함수를 써주면 문제를 회피할 수 있다.

- 약간 봉인된 고대 유물처럼, 화살표함수는 함수 자체의 this 바인딩을 갖지 않으며 화살표 함수 내부에서 this를 참조하면 상위스코프의 this를 가지고 온다. 이를 렉시컬 this라고 한다.

- super, arguments 또한 바인딩을 하면 상위를 참조한다.

7. rest 파라미터

- ...을 붙여서 가져오면 함수에 전달된 인수들의 목록을 배열로 전달받을 수 있다. 섞어서 쓸 수도 있다. 하지만 섞어서 쓸 경우 rest는 반드시 마지막 파라미터여야 하고 단수여야 한다.

- 일반함수에서는 rest와 arguments 둘다 쓸수 있지만 화살표함수에서는 rest밖에 못쓰므로(왜냐하면 this도 arguments도 상위 스코프꺼니까) rest를 기억했다가 잘 사용해야 한다.

8. 매개변수 기본값

- 무척 편리한 기능이다. 매개변수가 들어올지 안들어올지는 모르지만 안들어올 경우에 들어갈 디폴트를 미리 정의해줘서 if문이 몇개 줄어들고 코드가 간결해진다.
- 매개변수 기본값은 매개변수에 인수를 전달하지 않은 경우와 undefined를 전달한 경우에만 유효하다.
